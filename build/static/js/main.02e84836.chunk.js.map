{"version":3,"sources":["components/Filter.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","filterHandler","value","onChange","PersonForm","props","submitHandler","name","nameChange","number","numberChange","onSubmit","type","Persons","persons","removePerson","className","map","person","id","Person","onClick","baseURL","personService","getAll","axios","get","then","response","data","create","personObject","post","remove","delete","update","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","notification","setNotification","errorMessage","setErrorMessage","searchFilter","setSearchFilter","shownPersons","length","toLowerCase","includes","useEffect","initialPersons","updateNumber","updatePerson","find","returnedPerson","setTimeout","resetPersonInputs","catch","error","Notification","event","target","preventDefault","some","window","confirm","concat","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.02e84836.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ filter, filterHandler }) => {\n  return (\n    <div>\n    Name filter:\n    <input \n      value={filter}\n      onChange={filterHandler}\n    />\n  </div>\n  )\n}\n\nexport default Filter\n","import React from \"react\"\n\n\nconst PersonForm = (props) => {\n  const { submitHandler, name, nameChange, number, numberChange} = props\n  \n  return (\n    <form onSubmit={submitHandler}>\n      <div>Name: <input value={name} onChange={nameChange} /> </div>\n      <div>Number: <input value={number} onChange={numberChange} /> </div>\n      <div> <button type=\"submit\">Add</button> </div>\n    </form>\n  )\n}\n  \nconst Persons = ({ persons, removePerson }) => {\n  return (\n    <ul className=\"persons\">\n      {persons.map(person =>\n        <Person\n          key={person.id}\n          person={person} \n          removePerson={() => removePerson(person.id)} />\n      )}\n    </ul>\n  )\n}\n  \nconst Person = ({ person, removePerson }) => {\n  return (\n    <li>\n      {person.name}{\" \"}\n      {person.number}{\" \"}\n      <button onClick={removePerson}>Remove</button>\n    </li>\n  )\n}\n\nexport { PersonForm, Persons }\n","import axios from \"axios\"\n\n\nconst baseURL = \"/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = (personObject) => {\n    const request = axios.post(baseURL, personObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, personObject) => {\n    const request = axios.put(`${baseURL}/${id}`, personObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response)\n}\n\nconst personService = { getAll, create, remove, update }\n\nexport default personService\n","import React, { useState, useEffect } from \"react\"\nimport Filter from \"./components/Filter\"\nimport { PersonForm, Persons } from \"./components/Persons\"\nimport personService from \"./services/persons\"\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [notification, setNotification] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [searchFilter, setSearchFilter] = useState(\"\")\n\n  const shownPersons = (searchFilter.length === 0)\n  ? persons\n  : persons.filter(person => person.name.toLowerCase().includes(searchFilter.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (newName.length === 0 || newNumber.length === 0) {\n      setErrorMessage(`Please fill both entry form fields`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n    }\n    else if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook. Replace the old number with a new one?`)) {\n        updateNumber(personObject)\n      }\n      else {\n        resetPersonInputs()\n      }\n    }\n    else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNotification(`Added ${newName} to phonebook`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 3000)\n          resetPersonInputs()\n        })\n    }\n  }\n\n  const updateNumber = (personObject) => {\n    const updatePerson = persons.find(person => person.name === newName)\n        \n    personService\n      .update(updatePerson.id, personObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => updatePerson.id !== person.id ? person : returnedPerson))\n        setNotification(`Updated ${newName}'s number`)\n        setTimeout(() => {\n          setNotification(null)\n        }, 3000)\n        resetPersonInputs()\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Information of ${updatePerson.name} has already been removed from the server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n        setPersons(persons.filter(person => person.name !== updatePerson.name))\n      })\n  }\n\n  const removePerson = (id) => {\n    const person = persons.find(person => person.id === id)\n\n    if (window.confirm(`Remove ${person.name} from phonebook?`)) {\n      personService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        setNotification(`Removed ${person.name} from phonebook`)\n        setTimeout(() => {\n          setNotification(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setPersons(persons.filter(p => p.name !== person.name))\n      })\n    }\n  }\n\n  const Notification = ({ notification, errorMessage }) => {\n    if (notification !== null) {\n      return (\n        <div className=\"notification\">\n          {notification}\n        </div>\n      )\n    }\n    else if (errorMessage !== null) {\n      return (\n        <div className=\"error\">\n          {errorMessage}\n        </div>\n      )\n    }\n    else {\n      return null\n    }\n  }\n\n  const resetPersonInputs = () => {\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n\n  const handleSearchFilter = (event) => {\n    setSearchFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        notification={notification}\n        errorMessage={errorMessage}\n      />\n      <Filter \n        filter={searchFilter}\n        filterHandler={handleSearchFilter}\n      />\n      <h3>Add a new entry</h3>\n      <PersonForm \n        submitHandler={addPerson}\n        name={newName}\n        nameChange={handleNameChange}\n        number={newNumber}\n        numberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={shownPersons}\n        removePerson={removePerson}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport \"./index.css\"\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}